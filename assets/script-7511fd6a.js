(()=>{let K=document.getElementById("pointsh2"),y=document.getElementById("multi"),p=document.getElementById("bonus"),I=document.getElementById("auto"),C=document.getElementById("price"),A=document.getElementById("timer"),w=document.getElementById("pricebonus"),B=document.getElementById("priceauto"),R=document.getElementById("rocket");const N=document.getElementById("buttoninfo"),Q=document.getElementById("buttonreset"),b=document.getElementById("overlay"),M=document.getElementById("gameInfo"),U=document.getElementById("closeButton"),W=document.getElementById("purchasehistorydisplay");let P=document.getElementById("container");const h=document.getElementById("soundicon"),f=document.getElementById("music"),X=document.querySelectorAll(".costum i"),D=document.getElementById("rocket");var V=document.getElementById("menus"),$=document.getElementById("startgame");let t,s,v,l,c,a,u,r,S,k,d,i,E=[],L="";var G=100;let m;P.style.display="none";function Y(){localStorage.setItem("score",t),localStorage.setItem("clickValue",s),localStorage.setItem("bonusActive",v),localStorage.setItem("bonusPriceValue",l),localStorage.setItem("autoPriceValue",a),localStorage.setItem("timeLeft",c),localStorage.setItem("autoInterval",u),localStorage.setItem("autoClickSpeed",r),localStorage.setItem("autoActive",S),localStorage.setItem("purchageCost",k),localStorage.setItem("multiplier",d),localStorage.setItem("multiplierCost",i),localStorage.setItem("color",m)}function g(){K.textContent=t}function Z(){t+=s*d,g(),t>=k&&(t-=k,t=Math.max(0,t),g())}function j(){L="";for(let e=0;e<E.length&&(L+=`${E[e][0]} for ${E[e][1]} credit(s)`,e<E.length&&(L+=`
`),e!=9);e++);W.innerText=L}function H(e,n){let o=[e,n];E.unshift(o),j()}function q(){c==30&&(s=s*2),c--,document.getElementById("timer").innerText="Bonus Time:  "+c,c>0?setTimeout(q,1e3):(v=!1,A.style.display="none",p.disabled=!1,s>1&&(s/=2))}function _(){v||t>=l&&(t-=l,H("Bonus",l),l*=2,w.innerText=l+" credits",g(),c=30,q(),v=!0,A.style.display="block",p.disabled=!0,document.getElementById("bonusSound").play())}function ee(){setTimeout(q,1e3),A.style.display="block",s*=2}function O(){d>1?y.innerText=`Multiplier x${d}`:y.innerText="Multiplier"}function te(){t>=i&&t!=0&&(t-=i,H("Multiplier",i),i*=2,d+=1,C.innerText=i+" credits",g(),O())}function z(){t+=s*d,g()}function ne(){t>=a&&t!=0&&r>500&&(t-=a,H("Auto-click",a),a*=2,g(),S=!0,r-=500),I.innerText=`Auto-click / ${r/1e3} secs`,B.innerText=a+" credits",r==500&&(B.innerText="Max reached"),S==!0&&(clearInterval(u),u=setInterval(z,r))}function F(){const e=document.querySelector(".stars"),n=document.createElement("div");n.classList.add("star"),n.style.left=`${Math.random()*100}vw`,n.style.top="0vh";const o=`${Math.random()*3+2}s`;n.style.animation=`moveStar ${o} linear infinite`;function ge(){e.removeChild(n),F()}n.addEventListener("animationiteration",ge),e.appendChild(n)}function oe(e){for(let o=0;o<e;o++)setTimeout(F,o*200)}oe(100);function le(){b.style.display="block",M.style.display="block"}function ae(){b.style.display="none",M.style.display="none"}function J(){M.style.display="none",b.style.display="none"}function ie(){t==0&&(R.style.color="whitesmoke",m="whitesmoke",localStorage.setItem("color",m)),t=0,s=1,v=!1,l=1,c=0,a=1,clearInterval(u),u=!1,r=5500,S=!1,k=0,d=1,i=1,E=[],L="",g(),O(),j(),C.innerText=i+" credits",w.innerText=l+" credits",B.innerText=a+" credits",I.innerText="Auto-click"}function se(){t=parseInt(localStorage.getItem("score"))||0,s=parseInt(localStorage.getItem("clickValue"))||1,v=localStorage.getItem("bonusActive")==="true",l=parseInt(localStorage.getItem("bonusPriceValue"))||1,c=parseInt(localStorage.getItem("timeLeft"))||0,a=parseInt(localStorage.getItem("autoPriceValue"))||1,u=localStorage.getItem("autoInterval")||!1,r=parseInt(localStorage.getItem("autoClickSpeed"))||5500,S=localStorage.getItem("autoActive")||!1,S=="true"&&(clearInterval(u),u=setInterval(z,r)),k=parseInt(localStorage.getItem("purchaseCost"))||0,d=parseInt(localStorage.getItem("multiplier"))||1,i=parseInt(localStorage.getItem("multiplierCost"))||1,g(),O(),c>0&&ee(),C.innerText=i+" credits",w.innerText=l+" credits",B.innerText=a+" credits",t>0&&(P.style.display="flex",document.querySelector(".startpage").style.display="none"),m=localStorage.getItem("color"),D.style.color=m,f.muted=localStorage.getItem("soundMuted")==="true"}function ce(e,n,o){t>=l?e.classList.remove("disabled"):e.classList.add("disabled"),t>=i?n.classList.remove("disabled"):n.classList.add("disabled"),t>=a?o.classList.remove("disabled"):o.classList.add("disabled")}function re(e,n,o){setInterval(()=>{ce(e,n,o)},1e3)}re(p,y,I);function ue(){document.querySelector(".startpage").style.display="none",P.style.display="flex"}function T(){setTimeout(function(){V.currentTime=0,V.play()},G)}function x(){setTimeout(function(){V.pause()},G)}f.volume=.1,f.muted&&h.classList.add("fa-volume-mute");function de(){f.muted?(f.muted=!1,h.classList.remove("fa-volume-mute")):(f.muted=!0,h.classList.add("fa-volume-mute")),localStorage.setItem("soundMuted",f.muted)}function me(e){m=getComputedStyle(e).color,localStorage.setItem("color",m),D.style.color=m,J()}window.addEventListener("load",se),window.addEventListener("beforeunload",Y),$.addEventListener("click",ue),R.addEventListener("click",Z),I.addEventListener("click",ne),y.addEventListener("click",te),p.addEventListener("click",_),Q.addEventListener("click",ie),N.addEventListener("click",le),b.addEventListener("click",ae),U.addEventListener("click",J),h.addEventListener("click",de),X.forEach(e=>{e.addEventListener("click",()=>me(e))}),$.addEventListener("mouseenter",T),$.addEventListener("mouseleave",x),y.addEventListener("mouseenter",T),y.addEventListener("mouseleave",x),p.addEventListener("mouseenter",T),p.addEventListener("mouseleave",x),I.addEventListener("mouseenter",T),I.addEventListener("mouseleave",x)})();new Audio("/spaceship-clicker/bonus.mp3");new Audio("/spaceship-clicker/menus.mp3");new Audio("/spaceship-clicker/music.mp3");
